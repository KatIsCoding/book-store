(this["webpackJsonpbook-store"]=this["webpackJsonpbook-store"]||[]).push([[0],{64:function(t,e,n){},74:function(t,e,n){},77:function(t,e,n){},84:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),r=n(16),a=n.n(r),s=(n(64),n(51),n(52)),i=n(59),l=n(34),b=n(9),j=n(20),u=n(35),h=n(36),d=n(50),O=n(54),p=n(43),f=n(12),m=n(33),x=n.n(m),k=n(48),v=n(26),g=n(27),y=new(function(){function t(){Object(v.a)(this,t),this.API_URL="https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/TjwZyMOGQJO3ZFQ61Exw"}return Object(g.a)(t,[{key:"getAll",value:function(){return fetch("".concat(this.API_URL,"/books")).then((function(t){return t.json()}))}},{key:"postNew",value:function(){var t=Object(k.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(this.API_URL,"/books"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteBook",value:function(){var t=Object(k.a)(x.a.mark((function t(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(this.API_URL,"/books/").concat(e),{method:"DELETE"}));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}()),N="bookStore/books/ADD_BOOK",w="bookStore/books/REMOVE_BOOK",A=function(t){return{type:N,payload:t}},C=function(t){return function(e){y.deleteBook(t).then((function(n){n.ok&&e({type:w,payload:t})}))}},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N:return[].concat(Object(p.a)(t),[e.payload]);case w:return t.filter((function(t){return t.id!==e.payload}));default:return t}},E=(n(74),n(1));function B(){var t=Object(j.b)(),e=function(e){var n,c=e.target.elements.bookTitle.value,o=e.target.elements.bookAuthor.value,r=e.target.elements.category.value,a=Date.now();e.target.elements.bookTitle.value="",e.target.elements.bookAuthor.value="",e.target.elements.category.value="",t((n={title:c,author:o,id:a,category:r},function(t){var e={item_id:n.id,title:"".concat(n.title,"|").concat(n.author),category:n.category};y.postNew(e).then((function(e){e.ok&&t(A(n))}))}))};return Object(E.jsxs)("div",{children:[Object(E.jsx)("hr",{styles:{height:1,width:"100%"}}),Object(E.jsx)("h2",{children:"Add New Book"}),Object(E.jsx)("form",{className:"form-inline mainForm",onSubmit:function(t){t.preventDefault(),e(t)},children:Object(E.jsxs)("div",{className:"form-row form-group col-md-6",children:[Object(E.jsx)("input",{id:"bookTitle",className:"form-control",type:"text",placeholder:"Book Title"}),Object(E.jsx)("input",{id:"bookAuthor",className:"form-control",type:"text",placeholder:"Author"}),Object(E.jsx)("input",{id:"category",className:"form-control",type:"text",placeholder:"Category"}),Object(E.jsx)("button",{type:"submit",className:"btn btn-primary submitForm",children:"Add Book"})]})})]})}function I(t){var e=t.bookID,n=Object(j.b)();return Object(E.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){n(C(e))},children:"Remove"})}n(76),n(77);var P=!1;function L(t){var e=t.title,n=t.id,c=t.author,o=t.category;return Object(E.jsxs)(d.a.Item,{className:"bookEntry",children:[Object(E.jsxs)("div",{className:"bookInformation",children:[Object(E.jsx)("h6",{className:"bookCategory",children:o}),Object(E.jsx)("h3",{className:"bookTitle",children:e}),Object(E.jsx)("h6",{className:"bookAuthor",children:c}),Object(E.jsxs)("div",{className:"buttons-handler",children:[Object(E.jsx)(I,{bookID:n}),Object(E.jsx)("button",{type:"button",className:"btn btn-link",children:"Comments"}),Object(E.jsx)("button",{type:"button",className:"btn btn-link",children:"Edit"})]})]}),Object(E.jsxs)("div",{className:"progressInformation",children:[Object(E.jsx)("div",{className:"bookProgress",children:Object(E.jsx)(O.a,{value:"69"})}),Object(E.jsxs)("div",{className:"textualProgress",children:[Object(E.jsx)("h5",{children:"69%"}),Object(E.jsx)("h6",{children:"Completed"})]})]}),Object(E.jsx)("div",{className:"separator",children:Object(E.jsx)("hr",{style:{height:100,width:2}})}),Object(E.jsxs)("div",{className:"progressDetails",children:[Object(E.jsx)("h6",{children:"CURRENT CHAPTER"}),Object(E.jsx)("h5",{children:"Chapter 1"}),Object(E.jsx)("button",{type:"button",className:"btn btn-primary",children:"Update Progress"})]})]})}var D=function(){var t=Object(j.c)((function(t){return t.books})),e=Object(j.b)();return Object(c.useEffect)((function(){P||(e((function(t){y.getAll().then((function(e){Object.keys(e).forEach((function(n){var c={},o=e[n][0].title.split("|"),r=Object(f.a)(o,2),a=r[0],s=r[1];c.id=n,c.title=a,c.author=s,c.category=e[n][0].category,t(A(c))}))}))})),P=!0)}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)(d.a,{className:"booksWrapper",children:t.map((function(t){return Object(E.jsx)(L,{title:t.title,author:t.author,id:t.id,category:t.category},t.id)}))}),Object(E.jsx)(B,{})]})};function R(){return Object(E.jsx)("div",{className:"categories",children:Object(E.jsx)("h1",{children:"Under development"})})}var S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),o(t),r(t),a(t)}))},F=n(44),U=n(55),_=n.n(U),J=n(56),M=Object(F.b)({books:T}),K=Object(F.c)(M,Object(F.a)(J.a,_.a));a.a.render(Object(E.jsx)(o.a.StrictMode,{children:Object(E.jsx)(j.a,{store:K,children:Object(E.jsxs)(l.a,{children:[Object(E.jsxs)(u.a,{bg:"light",expand:"lg",children:[Object(E.jsx)(u.a.Brand,{className:"NavTitle",children:"BookStore CMS"}),Object(E.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(E.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(E.jsxs)(h.a,{className:"container-fluid",children:[Object(E.jsx)(h.a.Link,{as:l.b,to:"/",children:"Books"}),Object(E.jsx)(h.a.Link,{as:l.b,to:"/categories",children:"Categories"})]}),Object(E.jsx)(h.a.Link,{as:l.b,to:"/",className:"justify-content-end",children:Object(E.jsx)(s.a,{icon:i.a})})]})]}),Object(E.jsxs)(b.c,{children:[Object(E.jsx)(b.a,{exact:!0,path:"/",children:Object(E.jsx)(D,{})}),Object(E.jsx)(b.a,{exact:!0,path:"/categories",children:Object(E.jsx)(R,{})})]})]})})}),document.getElementById("root")),S()}},[[84,1,2]]]);
//# sourceMappingURL=main.65fcf7fb.chunk.js.map